webpackJsonp([20],{"4iVP":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Xxa5"),s=r.n(a),l=r("exGp"),o=r.n(l),i={props:["id","status"],directives:{waves:r("cAgV").a},data:function(){var e,t,r=this;return{baseapi:"http://admin.wumakeji.com/",Form:{imgurl:"",cate:"",des:"",url:"",order:""},fileList:[],checkAll:!1,checkAll2:!1,rules:{des:[{required:!0,message:"请输入广告位概述",trigger:"blur"}],url:[{validator:(e=o()(s.a.mark(function e(t,a,l){var o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""===a?l(new Error("请输入广告位链接")):(o=new RegExp("(https?|ftp|file)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]"),o.test(a)||l(new Error("网址格式不正确")),l());case 1:case"end":return e.stop()}},e,r)})),function(t,r,a){return e.apply(this,arguments)}),trigger:"blur"}],order:[{validator:(t=o()(s.a.mark(function e(t,a,l){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""!==a?/^[1-9]\d*|0$/.test(a)||l(new Error("请输入数字")):l(new Error("请输入排序"));case 1:case"end":return e.stop()}},e,r)})),function(e,r,a){return t.apply(this,arguments)}),trigger:"blur"}]}}},methods:{createData:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&e.$refs.upload.submit()})},uploadsuccess:function(e,t,r){console.log(e),200===e.status?(this.$notify({title:"成功",message:e.message,type:"success"}),this.$router.push("/adposition/index"),this.reset("dataForm"),this.fileList=[]):this.$notify.error({title:"失败",message:e.message})},uploading:function(e,t,r){console.log(e.percent)},reset:function(e){this.$refs[e].resetFields()}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"adposition-form-box"},[r("el-breadcrumb",{staticClass:"path"},[r("span",{staticStyle:{float:"left"}},[e._v("当前位置：")]),e._v(" "),r("el-breadcrumb-item",[e._v("信用卡管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("添加信用卡")])],1),e._v(" "),r("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.Form,"label-position":"left","label-width":"120px"}},[r("el-form-item",{attrs:{label:"广告位图片：",prop:"pic"}},[r("el-upload",{ref:"upload",attrs:{action:e.baseapi+"adposition/insert","file-list":e.fileList,limit:1,data:e.Form,"auto-upload":!1,accept:"image/*","list-type":"picture-card","on-progress":e.uploading,"on-success":e.uploadsuccess}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过100kb")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"广告分类：",prop:"url"}},[r("el-select",{attrs:{placeholder:"请选择广告分类"},model:{value:e.Form.cate,callback:function(t){e.$set(e.Form,"cate",t)},expression:"Form.cate"}},[r("el-option",{attrs:{label:"贷款",value:"loan"}}),e._v(" "),r("el-option",{attrs:{label:"信用卡",value:"card"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"链接：",prop:"url"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"链接地址"},model:{value:e.Form.url,callback:function(t){e.$set(e.Form,"url",t)},expression:"Form.url"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"概述：",prop:"des"}},[r("el-input",{staticStyle:{width:"60%"},attrs:{type:"textarea",placeholder:"广告位概述",autosize:{minRows:2,maxRows:4}},model:{value:e.Form.des,callback:function(t){e.$set(e.Form,"des",t)},expression:"Form.des"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"排序：",prop:"order"}},[r("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"排序（数字）"},model:{value:e.Form.order,callback:function(t){e.$set(e.Form,"order",t)},expression:"Form.order"}})],1)],1),e._v(" "),r("div",{staticClass:"form-footer"},[r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:e.createData}},[e._v("保存添加")])],1)],1)},staticRenderFns:[]};var c=r("VU/8")(i,n,!1,function(e){r("Bh3+")},"data-v-40c9e60e",null);t.default=c.exports},"Bh3+":function(e,t){}});
//# sourceMappingURL=20.ad30d641c075a2392017.js.map