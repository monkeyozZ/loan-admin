webpackJsonp([6],{OuAp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n,s,l=a("//Fk"),r=a.n(l),o=a("cAgV"),c=a("Q0Ca"),u=a("Xxa5"),d=a.n(u),p=a("exGp"),h=a.n(p),v=a("vLgD"),_=this,m={getlist:(i=h()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(v.a)({url:"member/index",method:"get",params:e}));case 1:case"end":return t.stop()}},t,_)})),function(t){return i.apply(this,arguments)}),search:(n=h()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(v.a)({url:"member/search?page="+e.listQuery.page+"&limit="+e.listQuery.limit,method:"post",data:e}));case 1:case"end":return t.stop()}},t,_)})),function(t){return n.apply(this,arguments)}),search2:(s=h()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(v.a)({url:"member/downsearch",method:"post",data:e}));case 1:case"end":return t.stop()}},t,_)})),function(t){return s.apply(this,arguments)})},f={directives:{waves:o.a},filters:{trantime:c.g,sunphone:c.b,transex:c.d},data:function(){return{pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},loading:!1,datetime:null,phone:null,downloadLoading:!1,listQuery:{page:1,limit:10},total:null,tableData:[],downData:[],list:{name:"",sex:"",money:"",idcard:"",phone:"",status:"",city:"",way:"",pay:"",company:"",gongjijin:"",shebao:"",card:"",home:"",car:""},dialogFormVisible:!1,filename:"",autoWidth:!0}},methods:{handleEdit:function(t){this.setlist(t),this.dialogFormVisible=!0},setlist:function(t){this.list=t},getlist:function(){var t=this;this.loading=!0,m.getlist(this.listQuery).then(function(e){200===e.data.status&&(t.loading=!1,t.tableData=e.data.memberlist,t.total=e.data.total)})},handleSizeChange:function(t){this.listQuery.limit=t,null!==this.datetime||null!==this.phone?this.search():this.getlist()},handleCurrentChange:function(t){this.listQuery.page=t,null!==this.datetime||null!==this.phone?this.search():this.getlist()},search:function(){var t=this,e={date:this.datetime,phone:this.phone,listQuery:this.listQuery};this.loading=!0,m.search(e).then(function(e){200===e.data.status&&(t.loading=!1,t.tableData=e.data.memberlist,t.total=e.data.total)})},exportsearch:function(){var t={date:this.datetime,phone:this.phone};return new r.a(function(e,a){m.search2(t).then(function(t){200===t.data.status?e(t.data.memberlist):a(t)})})},handleDownload:function(){var t=this;if(""===this.filename)return this.$notify.error({title:"失败",message:"导出文件名忘啦？"}),!1;this.downloadLoading=!0,this.exportsearch().then(function(e){a.e(32).then(a.bind(null,"zWO4")).then(function(a){var i=e,n=t.formatJson(["_id","name","sex","phone","money","date","idcard","city","status","edu","pay","home","car","card","overdue","gongjijin","shebao"],i);a.export_json_to_excel({header:["ID","姓名","性别","手机号","贷款金额","注册时间","身份证号","所在城市","婚姻状况","文化程度","月收入","是否有房","是否有车","是否有信用卡","是否有逾期","公积金","社保"],data:n,filename:t.filename,autoWidth:t.autoWidth}),t.downloadLoading=!1})})},formatJson:function(t,e){return e.map(function(e,a){return t.map(function(t){return"_id"===t?a+1:"date"===t?Object(c.g)(e[t]):e[t]})})}},mounted:function(){this.getlist()},watch:{dialogFormVisible:{handler:function(){this.dialogFormVisible||(this.list=[])}}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{staticClass:"path"},[a("span",{staticStyle:{float:"left"}},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",[t._v("贷款管理")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/loan/index"}}},[t._v("贷款列表")])],1),t._v(" "),a("div",{staticClass:"loan-container"},[a("div",{staticClass:"top-tools"},[a("el-row",{attrs:{type:"flex",justify:"left"}},[a("el-col",{attrs:{span:17}},[a("el-row",{attrs:{type:"flex",justify:"left"}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"block"},[a("span",{staticClass:"mr-10"},[t._v("时间筛选")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"70%"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions2,"value-format":"timestamp"},model:{value:t.datetime,callback:function(e){t.datetime=e},expression:"datetime"}})],1)]),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"50%"},attrs:{maxlength:"11",clearable:"",placeholder:"请输入手机号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"50%"},attrs:{clearable:"",placeholder:"请输入导出文件名"},model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",loading:t.downloadLoading,icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v("导出Excel")])],1)],1)],1),t._v(" "),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"581",border:""}},[a("el-table-column",{attrs:{label:"ID",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"性别",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.sex))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"手机号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("sunphone")(e.row.phone)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"注册时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("trantime")(e.row.date)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleEdit(e.row)}}},[t._v("查看详情")])]}}])})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}],staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":t.listQuery.page,"page-sizes":[10,20,30,40],"page-size":t.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"详情",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("ul",{staticClass:"list-container"},[a("li",[a("span",[t._v("用户姓名：")]),t._v(t._s(t.list.name))]),t._v(" "),a("li",[a("span",[t._v("性别：")]),t._v(t._s(t.list.sex))]),t._v(" "),a("li",[a("span",[t._v("身份证号：")]),t._v(t._s(t.list.idcard))]),t._v(" "),a("li",[a("span",[t._v("手机号：")]),t._v(t._s(t.list.phone))]),t._v(" "),a("li",[a("span",[t._v("婚姻状态：")]),t._v(t._s(t.list.status))]),t._v(" "),a("li",[a("span",[t._v("文化程度：")]),t._v(t._s(t.list.edu))]),t._v(" "),a("li",[a("span",[t._v("工作所在地：")]),t._v(t._s(t.list.city))]),t._v(" "),a("li",[a("span",[t._v("月收入：")]),t._v(t._s(t.list.pay))]),t._v(" "),a("li",[a("span",[t._v("公司类型：")]),t._v(t._s(t.list.company))]),t._v(" "),a("li",[a("span",[t._v("工作年限：")]),t._v(t._s(t.list.job_age))]),t._v(" "),a("li",[a("span",[t._v("是否连续6个月缴纳公积金：")]),t._v(t._s(t.list.gongjijin))]),t._v(" "),a("li",[a("span",[t._v("是否连续6个月缴纳社保：")]),t._v(t._s(t.list.shebao))]),t._v(" "),a("li",[a("span",[t._v("是否有信用卡：")]),t._v(t._s(t.list.card))]),t._v(" "),a("li",[a("span",[t._v("是否有房：")]),t._v(t._s(t.list.home))]),t._v(" "),a("li",[a("span",[t._v("是否有车：")]),t._v(t._s(t.list.car))]),t._v(" "),a("li",[a("span",[t._v("是否有逾期：")]),t._v(t._s(t.list.overdue))])])])],1)},staticRenderFns:[]};var b=a("VU/8")(f,g,!1,function(t){a("wXAF")},"data-v-714b544e",null);e.default=b.exports},wXAF:function(t,e){}});
//# sourceMappingURL=6.c092adb0e7b1aa40c33c.js.map