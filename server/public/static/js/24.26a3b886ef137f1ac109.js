webpackJsonp([24],{C6AY:function(e,t){},ecxN:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("Xxa5"),a=s.n(r),i=s("exGp"),l=s.n(i),o={props:["id","status"],directives:{waves:s("cAgV").a},data:function(){var e,t=this;return{baseapi:"http://admin.wumakeji.com/",Form:{title:"",imgurl:"",url:""},fileList:[],checkAll:!1,checkAll2:!1,rules:{url:[{validator:(e=l()(a.a.mark(function e(s,r,i){var l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""===r?i(new Error("请输入礼包链接")):(l=new RegExp("(https?|ftp|file)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]"),l.test(r)||i(new Error("网址格式不正确")),i());case 1:case"end":return e.stop()}},e,t)})),function(t,s,r){return e.apply(this,arguments)}),trigger:"blur"}]}}},methods:{createData:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&e.$refs.upload.submit()})},uploadsuccess:function(e,t,s){console.log(e),200===e.status?(this.$notify({title:"成功",message:e.message,type:"success"}),this.$router.push("/newuser/index"),this.reset("dataForm"),this.fileList=[]):this.$notify.error({title:"失败",message:e.message})},uploading:function(e,t,s){console.log(e.percent)},reset:function(e){this.$refs[e].resetFields()}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"newuser-form-box"},[s("el-breadcrumb",{staticClass:"path"},[s("span",{staticStyle:{float:"left"}},[e._v("当前位置：")]),e._v(" "),s("el-breadcrumb-item",[e._v("新人礼包")]),e._v(" "),s("el-breadcrumb-item",[e._v("添加礼包")])],1),e._v(" "),s("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.Form,"label-position":"left","label-width":"120px"}},[s("el-form-item",{attrs:{label:"图片：",prop:"pic"}},[s("el-upload",{ref:"upload",attrs:{action:e.baseapi+"newuser/insert","file-list":e.fileList,limit:1,data:e.Form,"auto-upload":!1,accept:"image/*","list-type":"picture-card","on-progress":e.uploading,"on-success":e.uploadsuccess}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过100kb")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"链接：",prop:"url"}},[s("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"链接地址"},model:{value:e.Form.url,callback:function(t){e.$set(e.Form,"url",t)},expression:"Form.url"}})],1)],1),e._v(" "),s("div",{staticClass:"form-footer"},[s("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:e.createData}},[e._v("保存添加")])],1)],1)},staticRenderFns:[]};var c=s("VU/8")(o,n,!1,function(e){s("C6AY")},"data-v-01629c6f",null);t.default=c.exports}});
//# sourceMappingURL=24.26a3b886ef137f1ac109.js.map