webpackJsonp([19],{"3HM3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Xxa5"),s=r.n(a),i=r("exGp"),o=r.n(i),l={props:["id","status"],directives:{waves:r("cAgV").a},data:function(){var e,t,r=this;return{baseapi:"http://admin.wumakeji.com/",Form:{title:"",imgurl:"",des:"",url:"",recommend:!1,status:!1,order:""},fileList:[],isIndeterminate:!1,isIndeterminate2:!1,checkAll:!1,checkAll2:!1,rules:{title:[{required:!0,message:"请输入信用卡名称",trigger:"blur"}],des:[{required:!0,message:"请输入信用卡概述",trigger:"blur"}],url:[{validator:(e=o()(s.a.mark(function e(t,a,i){var o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""===a?i(new Error("请输入推广链接")):(o=new RegExp("(https?|ftp|file)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]"),o.test(a)||i(new Error("网址格式不正确")),i());case 1:case"end":return e.stop()}},e,r)})),function(t,r,a){return e.apply(this,arguments)}),trigger:"blur"}],order:[{validator:(t=o()(s.a.mark(function e(t,a,i){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""!==a?/^[1-9]\d*|0$/.test(a)||i(new Error("请输入数字")):i(new Error("请输入排序"));case 1:case"end":return e.stop()}},e,r)})),function(e,r,a){return t.apply(this,arguments)}),trigger:"blur"}]}}},methods:{createData:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&e.$refs.upload.submit()})},uploadsuccess:function(e,t,r){console.log(e),200===e.status?(this.$notify({title:"成功",message:e.message,type:"success"}),this.$router.push("/card/index"),this.reset("dataForm"),this.isIndeterminate=!1,this.isIndeterminate2=!1,this.fileList=[]):this.$notify.error({title:"失败",message:e.message})},uploading:function(e,t,r){console.log(e.percent)},reset:function(e){this.$refs[e].resetFields()}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-box"},[r("el-breadcrumb",{staticClass:"path"},[r("span",{staticStyle:{float:"left"}},[e._v("当前位置：")]),e._v(" "),r("el-breadcrumb-item",[e._v("信用卡管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/card/insert"}}},[e._v("添加信用卡")])],1),e._v(" "),r("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.Form,"label-position":"left","label-width":"120px"}},[r("el-form-item",{attrs:{label:"信用卡名称：",prop:"title"}},[r("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"信用卡名称"},model:{value:e.Form.title,callback:function(t){e.$set(e.Form,"title",t)},expression:"Form.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"信用卡icon：",prop:"pic"}},[r("el-upload",{ref:"upload",attrs:{action:e.baseapi+"card/insert","file-list":e.fileList,limit:1,data:e.Form,"auto-upload":!1,accept:"image/*","list-type":"picture-card","on-progress":e.uploading,"on-success":e.uploadsuccess}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过100kb")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"信用卡概述：",prop:"des"}},[r("el-input",{staticStyle:{width:"60%"},attrs:{type:"textarea",placeholder:"信用卡概述",autosize:{minRows:2,maxRows:4}},model:{value:e.Form.des,callback:function(t){e.$set(e.Form,"des",t)},expression:"Form.des"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"推广链接：",prop:"url"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"推广链接"},model:{value:e.Form.url,callback:function(t){e.$set(e.Form,"url",t)},expression:"Form.url"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否首页推荐：",prop:"recommend"}},[r("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.Form.recommend,callback:function(t){e.$set(e.Form,"recommend",t)},expression:"Form.recommend"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否开启：",prop:"status"}},[r("el-switch",{attrs:{"active-text":"开启","inactive-text":"暂停"},model:{value:e.Form.status,callback:function(t){e.$set(e.Form,"status",t)},expression:"Form.status"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"排序：",prop:"order"}},[r("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"排序（数字）"},model:{value:e.Form.order,callback:function(t){e.$set(e.Form,"order",t)},expression:"Form.order"}})],1)],1),e._v(" "),r("div",{staticClass:"form-footer"},[r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:e.createData}},[e._v("保存添加")])],1)],1)},staticRenderFns:[]};var c=r("VU/8")(l,n,!1,function(e){r("o9fp")},"data-v-73fb6203",null);t.default=c.exports},o9fp:function(e,t){}});
//# sourceMappingURL=19.8e7991e9b6d6330cb17b.js.map