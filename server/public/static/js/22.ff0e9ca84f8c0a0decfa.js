webpackJsonp([22],{VZpn:function(e,t){},fTMR:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Xxa5"),i=r.n(a),s=r("exGp"),l=r.n(s),n={props:["id","status"],directives:{waves:r("cAgV").a},data:function(){var e,t,r,a,s=this;return{baseapi:"http://admin.wumakeji.com/",Form:{title:"",imgurl:"",des:"",url:"",pass_rate:"",success_num:"",money_limit:[],people_limit:[],recommend:!1,status:!1,order:""},fileList:[],moneyarr:[{id:1,num:"0-8000元"},{id:2,num:"8000-20000元"},{id:3,num:"20000-80000元"},{id:4,num:"80000元以上"}],peoplearr:[{id:1,type:"上班族"},{id:2,type:"个体户"},{id:3,type:"学生"},{id:4,type:"自由职业者"}],isIndeterminate:!1,isIndeterminate2:!1,checkAll:!1,checkAll2:!1,rules:{title:[{required:!0,message:"请输入贷款名称",trigger:"blur"}],des:[{required:!0,message:"请输入贷款概述",trigger:"blur"}],url:[{validator:(e=l()(i.a.mark(function e(t,r,a){var l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""===r?a(new Error("请输入推广链接")):(l=new RegExp("(https?|ftp|file)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]"),l.test(r)||a(new Error("网址格式不正确")),a());case 1:case"end":return e.stop()}},e,s)})),function(t,r,a){return e.apply(this,arguments)}),trigger:"blur"}],pass_rate:[{validator:(t=l()(i.a.mark(function e(t,r,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""!==r?/^[1-9]\d*|0$/.test(r)||a(new Error("请输入数字")):a(new Error("请输入贷款通过率"));case 1:case"end":return e.stop()}},e,s)})),function(e,r,a){return t.apply(this,arguments)}),trigger:"blur"}],success_num:[{validator:(r=l()(i.a.mark(function e(t,r,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""!==r?/^[1-9]\d*|0$/.test(r)||a(new Error("请输入数字")):a(new Error("请输入下款成功数"));case 1:case"end":return e.stop()}},e,s)})),function(e,t,a){return r.apply(this,arguments)}),trigger:"blur"}],order:[{validator:(a=l()(i.a.mark(function e(t,r,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""!==r?/^[1-9]\d*|0$/.test(r)||a(new Error("请输入数字")):a(new Error("请输入排序"));case 1:case"end":return e.stop()}},e,s)})),function(e,t,r){return a.apply(this,arguments)}),trigger:"blur"}]}}},methods:{createData:function(){var e=this;this.$refs.dataForm.validate(function(t){if(t){if(0===e.Form.money_limit.length)return e.$message.error("至少选择一项借款额度"),!1;if(0===e.Form.people_limit.length)return e.$message.error("至少选择一项适用人群"),!1;e.$refs.upload.submit()}})},handleCheckAllChange:function(e){for(var t=[],r=0;r<this.moneyarr.length;r++)t.push(this.moneyarr[r].id);this.Form.money_limit=e?t:[],this.isIndeterminate=!1},handleCheckedmaneyChange:function(e){var t=e.length;this.checkAll=t===this.moneyarr.length,this.isIndeterminate=t>0&&t<this.moneyarr.length},handleCheckAllChange2:function(e){for(var t=[],r=0;r<this.peoplearr.length;r++)t.push(this.peoplearr[r].id);this.Form.people_limit=e?t:[],this.isIndeterminate2=!1},handleCheckedmaneyChange2:function(e){var t=e.length;this.checkAll2=t===this.peoplearr.length,this.isIndeterminate2=t>0&&t<this.peoplearr.length},uploadsuccess:function(e,t,r){200===e.status?(this.$notify({title:"成功",message:e.message,type:"success"}),this.$router.push("/loan/index"),this.reset("dataForm"),this.isIndeterminate=!1,this.isIndeterminate2=!1,this.fileList=[]):this.$notify.error({title:"失败",message:e.message})},uploading:function(e,t,r){},reset:function(e){this.$refs[e].resetFields()}}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-box"},[r("el-breadcrumb",{staticClass:"path"},[r("span",{staticStyle:{float:"left"}},[e._v("当前位置：")]),e._v(" "),r("el-breadcrumb-item",[e._v("贷款管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/loan/insert"}}},[e._v("添加贷款")])],1),e._v(" "),r("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.Form,"label-position":"left","label-width":"120px"}},[r("el-form-item",{attrs:{label:"贷款名称：",prop:"title"}},[r("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"贷款名称"},model:{value:e.Form.title,callback:function(t){e.$set(e.Form,"title",t)},expression:"Form.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"贷款icon：",prop:"pic"}},[r("el-upload",{ref:"upload",attrs:{action:e.baseapi+"loan/insert","file-list":e.fileList,limit:1,data:e.Form,"auto-upload":!1,accept:"image/*","list-type":"picture-card","on-progress":e.uploading,"on-success":e.uploadsuccess}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过100kb")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"贷款概述：",prop:"des"}},[r("el-input",{staticStyle:{width:"60%"},attrs:{type:"textarea",placeholder:"贷款概述",autosize:{minRows:2,maxRows:4}},model:{value:e.Form.des,callback:function(t){e.$set(e.Form,"des",t)},expression:"Form.des"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"推广链接：",prop:"url"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"推广链接"},model:{value:e.Form.url,callback:function(t){e.$set(e.Form,"url",t)},expression:"Form.url"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"贷款通过率：",prop:"pass_rate"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"贷款通过率（数字）"},model:{value:e.Form.pass_rate,callback:function(t){e.$set(e.Form,"pass_rate",t)},expression:"Form.pass_rate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"成功下款数：",prop:"success_num"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"成功下款数（数字）"},model:{value:e.Form.success_num,callback:function(t){e.$set(e.Form,"success_num",t)},expression:"Form.success_num"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"可借款额度：",prop:"money_limit"}},[r("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),r("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),r("el-checkbox-group",{on:{change:e.handleCheckedmaneyChange},model:{value:e.Form.money_limit,callback:function(t){e.$set(e.Form,"money_limit",t)},expression:"Form.money_limit"}},e._l(e.moneyarr,function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.num))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"适合人群：",prop:"people_limit"}},[r("el-checkbox",{attrs:{indeterminate:e.isIndeterminate2},on:{change:e.handleCheckAllChange2},model:{value:e.checkAll2,callback:function(t){e.checkAll2=t},expression:"checkAll2"}},[e._v("全选")]),e._v(" "),r("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),r("el-checkbox-group",{on:{change:e.handleCheckedmaneyChange2},model:{value:e.Form.people_limit,callback:function(t){e.$set(e.Form,"people_limit",t)},expression:"Form.people_limit"}},e._l(e.peoplearr,function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.type))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否首页推荐：",prop:"recommend"}},[r("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.Form.recommend,callback:function(t){e.$set(e.Form,"recommend",t)},expression:"Form.recommend"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否开启：",prop:"status"}},[r("el-switch",{attrs:{"active-text":"开启","inactive-text":"暂停"},model:{value:e.Form.status,callback:function(t){e.$set(e.Form,"status",t)},expression:"Form.status"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"排序：",prop:"order"}},[r("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"排序（数字）"},model:{value:e.Form.order,callback:function(t){e.$set(e.Form,"order",t)},expression:"Form.order"}})],1)],1),e._v(" "),r("div",{staticClass:"form-footer"},[r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:e.createData}},[e._v("保存添加")])],1)],1)},staticRenderFns:[]};var c=r("VU/8")(n,o,!1,function(e){r("VZpn")},"data-v-1b281895",null);t.default=c.exports}});
//# sourceMappingURL=22.ff0e9ca84f8c0a0decfa.js.map